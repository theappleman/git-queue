From: Daniel Cordero <theappleman@gmail.com>

t9120: Prevent test failure for platform error

This test will always fail (and be broken) while SVN_HTTPD_PORT is not
set.
diff --git c/t/t9120-git-svn-clone-with-percent-escapes.sh w/t/t9120-git-svn-clone-with-percent-escapes.sh
index ef2c052..1a85491 100755
--- c/t/t9120-git-svn-clone-with-percent-escapes.sh
+++ w/t/t9120-git-svn-clone-with-percent-escapes.sh
@@ -6,26 +6,26 @@
 test_description='git svn clone with percent escapes'
 . ./lib-git-svn.sh
 
-test_expect_success 'setup svnrepo' '
-	mkdir project project/trunk project/branches project/tags &&
-	echo foo > project/trunk/foo &&
-	svn import -m "$test_description" project "$svnrepo/pr ject" &&
-	rm -rf project &&
-	start_httpd
-'
-
 if test "$SVN_HTTPD_PORT" = ""
 then
-	test_expect_failure 'test clone with percent escapes - needs SVN_HTTPD_PORT set' 'false'
+	say 'test clone with percent escapes - needs SVN_HTTPD_PORT set'
 else
+	test_expect_success 'setup svnrepo' '
+		mkdir project project/trunk project/branches project/tags &&
+		echo foo > project/trunk/foo &&
+		svn import -m "$test_description" project "$svnrepo/pr ject" &&
+		rm -rf project &&
+		start_httpd
+	'
+
 	test_expect_success 'test clone with percent escapes' '
 		git svn clone "$svnrepo/pr%20ject" clone &&
 		cd clone &&
 			git rev-parse refs/${remotes_git_svn} &&
 		cd ..
 	'
-fi
 
-stop_httpd
+	stop_httpd
+fi
 
 test_done
